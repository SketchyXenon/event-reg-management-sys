/* ============================================================
   ERMS Admin — v5 (definitive)
   global.css always loads first. This file overrides/extends it.
   Key principle: use specific selectors to win over global.css.
   ============================================================ */

/* ── Token bridge ─────────────────────────────────────────── */
:root {
  --ab:   #4a7ab5;   --ab-l: #6a96cc;
  --ag:   #c9a84c;   --ag-l: #dbbf6e;
  --agr:  #4e9b72;
  --ar:   #c45c5c;

  /* bg tokens mapped from global.css vars */
  --bg2:  var(--bg-panel);
  --bg3:  var(--bg-card);
  --bgh:  var(--bg-hover);
  --bdr:  var(--border);
  --t1:   var(--text);
  --t2:   var(--text-2);
  --t3:   var(--text-3);
  --fd:   var(--ff-d);
  --fb:   var(--ff-b);
  --fm:   var(--ff-m);
  --nh:   var(--nav-h);
  --sw:   var(--sidebar-w);

  --r1: 4px;  --r2: 8px;  --r3: 12px;
  --sh2: 0 4px 20px rgba(0,0,0,.45);
  --sh3: 0 8px 32px rgba(0,0,0,.65);
}

/* ── Reset ── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 15px; scroll-behavior: smooth; }

body {
  background-image:
    linear-gradient(rgba(74,122,181,.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(74,122,181,.02) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* ============================================================
   SIDEBAR  — override global.css sidebar-brand direction
   ============================================================ */
body.has-sidebar .sidebar {
  width: var(--sw);
  height: 100vh;
  position: fixed; top: 0; left: 0;
  background: var(--bg-s);
  border-right: 1px solid var(--bdr);
  display: flex; flex-direction: column;
  z-index: 200;
  transition: transform .3s ease;
}

/* sidebar-brand: column layout — top row (crest + text) then clock below */
body.has-sidebar .sidebar-brand {
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 18px 18px 16px;
  border-bottom: 1px solid var(--bdr);
  flex-shrink: 0;
}

/* Top row: crest left, title+subtitle right */
body.has-sidebar .sb-brand-top {
  display: flex;
  align-items: center;
  gap: 11px;
}

body.has-sidebar .sb-brand-text {
  display: flex;
  flex-direction: column;
}

body.has-sidebar .brand-crest {
  width: 38px; height: 38px;
  background: linear-gradient(135deg, var(--ab), var(--ag));
  border-radius: var(--r2);
  display: flex; align-items: center; justify-content: center;
  font-family: var(--fd); font-size: 1.05rem; font-weight: 700;
  color: #080b10;
  box-shadow: 0 0 18px rgba(74,122,181,.35);
  flex-shrink: 0;
}

body.has-sidebar .sidebar-brand h1 {
  font-family: var(--fd); font-size: .93rem; font-weight: 600;
  color: var(--t1); line-height: 1.25;
}
body.has-sidebar .sidebar-brand p {
  font-size: .63rem; color: var(--t3);
  letter-spacing: .09em; text-transform: uppercase; margin-top: 1px;
}

.sidebar-nav {
  flex: 1; padding: 12px 10px; overflow-y: auto;
}

/* Override global.css .nav-label with our .nav-section-label */
.nav-section-label {
  font-size: .6rem; font-weight: 700;
  letter-spacing: .14em; text-transform: uppercase;
  color: var(--t3); padding: 10px 10px 5px;
}

.nav-item {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 12px; border-radius: var(--r2);
  color: var(--t2); text-decoration: none;
  font-size: .85rem; font-weight: 400;
  transition: all .18s ease; margin-bottom: 2px;
  position: relative;
}
.nav-item:hover { background: var(--bgh); color: var(--t1); }
.nav-item.active {
  background: rgba(74,122,181,.15); color: var(--ab-l); font-weight: 500;
}
.nav-item.active::before {
  content: '';
  position: absolute; left: 0; top: 7px; bottom: 7px;
  width: 3px; background: var(--ab); border-radius: 0 2px 2px 0;
}
.nav-icon { width: 17px; height: 17px; flex-shrink: 0; opacity: .6; }
.nav-item.active .nav-icon { opacity: 1; }
.nav-item .badge {
  margin-left: auto; background: var(--ag); color: #080b10;
  font-size: .6rem; font-weight: 700; padding: 1px 7px; border-radius: 20px;
  display: inline-flex; align-items: center;
}

.sidebar-footer {
  padding: 12px 10px; border-top: 1px solid var(--bdr); flex-shrink: 0;
}
.sidebar-user {
  display: flex; align-items: center; gap: 10px;
  padding: 8px 11px; border-radius: var(--r2); background: var(--bg3);
}
body.has-sidebar .user-avatar {
  width: 34px; height: 34px; border-radius: 50%;
  background: linear-gradient(135deg, var(--ab), var(--ab-l));
  display: flex; align-items: center; justify-content: center;
  font-family: var(--fd); font-size: .82rem; font-weight: 600;
  color: #fff; flex-shrink: 0;
}
.user-info { flex: 1; min-width: 0; }
.user-info .name {
  font-size: .79rem; font-weight: 500; color: var(--t1);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.user-info .role {
  font-size: .63rem; color: var(--ag);
  letter-spacing: .06em; text-transform: uppercase;
}
body.has-sidebar .logout-btn {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 12px; margin-top: 6px; border-radius: var(--r2);
  color: var(--t3); text-decoration: none; font-size: .8rem;
  transition: all .18s ease;
}
body.has-sidebar .logout-btn:hover {
  background: rgba(196,92,92,.12); color: var(--ar);
}

/* ============================================================
   TOPBAR  — override global.css topbar
   ============================================================ */
body.has-sidebar .topbar {
  position: fixed; top: 0; left: var(--sw); right: 0;
  height: var(--nh);
  border-bottom: 1px solid var(--bdr);
  display: flex; align-items: center;
  padding: 0 28px; gap: 16px;
  z-index: 100;
}
[data-theme="dark"]  body.has-sidebar .topbar { background: rgba(10,12,18,.93); }
[data-theme="light"] body.has-sidebar .topbar { background: rgba(238,236,229,.93); }

.topbar-title {
  font-family: var(--fd); font-size: 1.1rem; font-weight: 500; color: var(--t1);
}
/* Support both .topbar-subtitle and .topbar-sub */
.topbar-subtitle, .topbar-sub {
  font-size: .74rem; color: var(--t3); margin-top: 2px;
}
/* Support both .topbar-spacer and .topbar-space */
.topbar-spacer, .topbar-space { flex: 1; }
.topbar-actions { display: flex; align-items: center; gap: 8px; }
.topbar-btn {
  width: 34px; height: 34px; border-radius: var(--r2);
  background: var(--bg3); border: 1px solid var(--bdr);
  display: flex; align-items: center; justify-content: center;
  color: var(--t2); cursor: pointer; transition: all .18s ease;
}
.topbar-btn:hover { background: var(--bgh); color: var(--t1); }
.theme-toggle-btn {
  background: none; border: none; font-size: 1.05rem;
  cursor: pointer; padding: 4px; border-radius: var(--r1);
}

/* ============================================================
   MAIN + PAGE CONTENT
   ============================================================ */
body.has-sidebar .main {
  margin-left: var(--sw);
  padding-top: var(--nh);
  flex: 1; min-height: 100vh;
}
.page-content {
  padding: 28px 32px;
  animation: pageIn .35s ease both;
}
@keyframes pageIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ============================================================
   STAT CARDS  — .stats-grid (not global's .stats-row)
   ============================================================ */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 24px;
}
.stats-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }

/* Extend global.css .stat-card with admin-specific extras */
.stat-card {
  padding: 20px 22px;
  border-radius: var(--r3);
}
.stat-icon {
  position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
  width: 42px; height: 42px; border-radius: var(--r2);
  display: flex; align-items: center; justify-content: center; opacity: .1;
}
.stat-card.blue  .stat-icon { background: var(--ab); }
.stat-card.gold  .stat-icon { background: var(--ag); }
.stat-card.green .stat-icon { background: var(--agr); }
.stat-card.red   .stat-icon { background: var(--ar); }

.stat-label {
  font-size: .65rem; font-weight: 700; letter-spacing: .1em;
  text-transform: uppercase; color: var(--t3); margin-bottom: 8px;
}
.stat-value {
  font-family: var(--fd); font-size: 1.95rem; font-weight: 700;
  color: var(--t1); line-height: 1;
}
.stat-change {
  font-size: .7rem; margin-top: 7px; color: var(--t3);
  display: flex; align-items: center; gap: 4px;
}
.stat-change.up   { color: var(--agr); }
.stat-change.down { color: var(--ar); }

/* ============================================================
   GENERIC CARD
   ============================================================ */
.card {
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r3);
}
.card-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 15px 20px; border-bottom: 1px solid var(--bdr);
}
.card-title {
  font-family: var(--fd); font-size: .97rem; font-weight: 500; color: var(--t1);
}
.card-subtitle { font-size: .73rem; color: var(--t3); margin-top: 2px; }
.card-body { padding: 18px 20px; }

/* ============================================================
   DASHBOARD LAYOUT GRIDS
   ============================================================ */
.dash-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 18px;
  margin-bottom: 18px;
}
.dash-two {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
  margin-bottom: 18px;
}

/* ============================================================
   TABLE CARD
   ============================================================ */
.table-card {
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r3);
}
.table-header {
  padding: 13px 18px;
  border-bottom: 1px solid var(--bdr);
  background: var(--bg3);
}

/* ── Filter bar ── */
.filter-bar {
  display: flex; align-items: center; gap: 10px;
}

/* Search box */
.search-box {
  display: flex; align-items: center; gap: 8px;
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r2); padding: 7px 12px;
  flex: 1; min-width: 160px; max-width: 270px;
  transition: border-color .18s;
}
.search-box:focus-within {
  border-color: var(--ab);
  box-shadow: 0 0 0 2px rgba(74,122,181,.15);
}
.search-box svg { width: 14px; height: 14px; flex-shrink: 0; color: var(--t3); }
.search-box input {
  border: none; outline: none; background: none;
  color: var(--t1); font-family: var(--fb); font-size: .84rem; width: 100%;
}
.search-box input::placeholder { color: var(--t3); }

/* Filter selects — CRITICAL: standalone class, no form-control conflict */
.filter-select {
  appearance: none;
  background-color: var(--bg2);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%235c6478' d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 11px;
  border: 1px solid var(--bdr);
  border-radius: var(--r2);
  color: var(--t2);
  font-family: var(--fb); font-size: .83rem;
  padding: 7px 30px 7px 11px;
  cursor: pointer; outline: none;
  transition: border-color .18s;
  /* These 3 prevent width:100% inheritance from any global rule */
  width: auto;
  min-width: 110px;
  flex-shrink: 0;
}
.filter-select:focus { border-color: var(--ab); }
.filter-select.wide  { min-width: 170px; }

/* ── Data table ── */
.table-scroll { overflow-x: auto; }
.data-table {
  width: 100%; border-collapse: collapse; font-size: .855rem;
}
.data-table thead th {
  padding: 11px 14px; text-align: left;
  font-size: .63rem; font-weight: 700;
  letter-spacing: .1em; text-transform: uppercase;
  color: var(--t3); background: var(--bg3);
  border-bottom: 1px solid var(--bdr); white-space: nowrap;
}
.data-table tbody td {
  padding: 12px 14px; border-bottom: 1px solid var(--bdr);
  color: var(--t2); vertical-align: middle;
}
.data-table tbody tr:last-child td { border-bottom: none; }
.data-table tbody tr:hover td {
  background: rgba(74,122,181,.035); color: var(--t1);
}
.empty-row td {
  text-align: center; padding: 52px 14px !important;
  color: var(--t3); font-size: .85rem;
}
.empty-row svg { opacity: .2; display: block; margin: 0 auto 10px; }

/* ── Pagination ── */
.pagination {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 18px; border-top: 1px solid var(--bdr);
  font-size: .77rem; color: var(--t3);
  flex-wrap: wrap; gap: 8px;
}
.pg-controls { display: flex; align-items: center; gap: 3px; }
.pg-btn {
  min-width: 32px; height: 32px; padding: 0 7px;
  border-radius: var(--r1); border: 1px solid var(--bdr);
  background: var(--bg3); color: var(--t2);
  font-family: var(--fb); font-size: .77rem;
  cursor: pointer; display: inline-flex; align-items: center;
  justify-content: center; transition: all .18s ease; text-decoration: none;
}
.pg-btn:hover:not(.active):not(.disabled) { background: var(--bgh); color: var(--t1); }
.pg-btn.active {
  background: var(--ab); color: #fff; border-color: var(--ab); font-weight: 600;
}
.pg-btn.disabled { opacity: .3; cursor: not-allowed; pointer-events: none; }
.pg-dots { color: var(--t3); padding: 0 3px; }

/* ============================================================
   BADGES
   ============================================================ */
.badge {
  display: inline-flex; align-items: center;
  padding: 2px 9px; border-radius: 20px;
  font-size: .67rem; font-weight: 600;
  letter-spacing: .04em; white-space: nowrap;
}
.badge-blue     { background: rgba(74,122,181,.13);  color: var(--ab-l);  border: 1px solid rgba(74,122,181,.28); }
.badge-gold     { background: rgba(201,168,76,.13);  color: var(--ag-l);  border: 1px solid rgba(201,168,76,.28); }
.badge-green    { background: rgba(78,155,114,.13);  color: #6ec49a;      border: 1px solid rgba(78,155,114,.28); }
.badge-red      { background: rgba(196,92,92,.13);   color: #d87c7c;      border: 1px solid rgba(196,92,92,.28);  }
.badge-neutral  { background: rgba(92,100,120,.11);  color: var(--t3);    border: 1px solid var(--bdr); }
.badge-active    { background: rgba(78,155,114,.13);  color: #6ec49a;     border: 1px solid rgba(78,155,114,.28); }
.badge-inactive  { background: rgba(92,100,120,.11);  color: var(--t3);   border: 1px solid var(--bdr); }
.badge-confirmed { background: rgba(78,155,114,.13);  color: #6ec49a;     border: 1px solid rgba(78,155,114,.28); }
.badge-pending   { background: rgba(201,168,76,.13);  color: var(--ag-l); border: 1px solid rgba(201,168,76,.28); }
.badge-cancelled { background: rgba(196,92,92,.13);   color: #d87c7c;     border: 1px solid rgba(196,92,92,.28);  }
.badge-admin     { background: rgba(201,168,76,.13);  color: var(--ag-l); border: 1px solid rgba(201,168,76,.28); }
.badge-student   { background: rgba(74,122,181,.11);  color: var(--ab-l); border: 1px solid rgba(74,122,181,.25); }
.badge-upcoming  { background: rgba(74,122,181,.11);  color: var(--ab-l); border: 1px solid rgba(74,122,181,.25); }

/* ============================================================
   BUTTONS
   ============================================================ */
.btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 8px 16px; border-radius: var(--r2);
  font-family: var(--fb); font-size: .84rem; font-weight: 500;
  cursor: pointer; border: none; text-decoration: none;
  transition: all .18s ease; white-space: nowrap; line-height: 1;
}
.btn-primary { background: var(--ab); color: #fff; }
.btn-primary:hover { background: var(--ab-l); box-shadow: 0 0 16px rgba(74,122,181,.4); }
.btn-gold    { background: var(--ag); color: #080b10; }
.btn-gold:hover { background: var(--ag-l); }
.btn-ghost   { background: transparent; color: var(--t2); border: 1px solid var(--bdr); }
.btn-ghost:hover { background: var(--bgh); color: var(--t1); }
.btn-danger  { background: rgba(196,92,92,.13); color: #d87c7c; border: 1px solid rgba(196,92,92,.28); }
.btn-danger:hover { background: rgba(196,92,92,.22); }
.btn-sm { padding: 5px 11px; font-size: .77rem; }

/* Row action buttons */
.action-btns { display: flex; align-items: center; gap: 5px; }
.btn-action {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 4px 9px; border-radius: 6px;
  font-size: .72rem; font-weight: 500; line-height: 1.4;
  cursor: pointer; border: 1px solid transparent;
  background: none; transition: all .18s ease;
  white-space: nowrap; font-family: var(--fb);
  text-decoration: none;
}
.btn-action.edit   { color: var(--ab-l);  border-color: rgba(74,122,181,.3);  background: rgba(74,122,181,.08);  }
.btn-action.edit:hover   { background: rgba(74,122,181,.18); border-color: rgba(74,122,181,.5); }
.btn-action.delete { color: #d87c7c;      border-color: rgba(196,92,92,.3);   background: rgba(196,92,92,.08);   }
.btn-action.delete:hover { background: rgba(196,92,92,.18);  border-color: rgba(196,92,92,.5);  }
.btn-action.warn   { color: var(--ag-l);  border-color: rgba(201,168,76,.3);  background: rgba(201,168,76,.08);  }
.btn-action.warn:hover   { background: rgba(201,168,76,.18); border-color: rgba(201,168,76,.5); }

/* ============================================================
   FORMS  (modal inputs only; filter bar uses .filter-select)
   ============================================================ */
.form-group  { margin-bottom: 15px; }
.form-label  {
  display: block; font-size: .72rem; font-weight: 600;
  letter-spacing: .05em; text-transform: uppercase;
  color: var(--t2); margin-bottom: 6px;
}
/* Admin-specific form-control — overrides global.css with more specific selector */
body.has-sidebar .form-control {
  display: block; width: 100%;
  padding: 9px 13px;
  background: var(--bg3); border: 1px solid var(--bdr);
  border-radius: var(--r2); color: var(--t1);
  font-family: var(--fb); font-size: .86rem;
  outline: none; transition: border-color .18s, box-shadow .18s;
}
body.has-sidebar .form-control:focus {
  border-color: var(--ab); box-shadow: 0 0 0 3px rgba(74,122,181,.14);
}
body.has-sidebar .form-control::placeholder { color: var(--t3); }
body.has-sidebar select.form-control {
  cursor: pointer; appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%235c6478' d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 10px center; background-size: 11px;
  padding-right: 30px;
}
body.has-sidebar textarea.form-control { resize: vertical; min-height: 86px; }
.form-row  { display: grid; grid-template-columns: 1fr 1fr; gap: 13px; }
.form-hint { font-size: .71rem; color: var(--t3); margin-top: 4px; }

/* ============================================================
   MODALS
   ============================================================ */
.modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(5,7,12,.82); backdrop-filter: blur(5px);
  z-index: 300; align-items: center; justify-content: center;
}
.modal-overlay.open { display: flex; }
.modal {
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r3); width: 540px; max-width: 95vw;
  max-height: 90vh; overflow-y: auto;
  box-shadow: var(--sh3); animation: modalIn .22s ease both;
}
@keyframes modalIn {
  from { opacity: 0; transform: scale(.96) translateY(-10px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}
.modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 18px 22px; border-bottom: 1px solid var(--bdr);
}
.modal-title { font-family: var(--fd); font-size: 1rem; font-weight: 500; color: var(--t1); }
.modal-close {
  width: 28px; height: 28px; border-radius: var(--r1);
  background: var(--bgh); border: none; color: var(--t3);
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  font-size: .9rem; transition: all .18s ease;
}
.modal-close:hover { background: rgba(196,92,92,.2); color: var(--ar); }
.modal-body   { padding: 22px; }
.modal-footer {
  display: flex; justify-content: flex-end; gap: 10px;
  padding: 14px 22px; border-top: 1px solid var(--bdr);
}

/* ============================================================
   ALERTS
   ============================================================ */
.alert {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 16px; border-radius: var(--r2);
  font-size: .84rem; margin-bottom: 18px;
}
.alert-success { background: rgba(78,155,114,.12);  border: 1px solid rgba(78,155,114,.25); color: #6ec49a; }
.alert-error   { background: rgba(196,92,92,.12);   border: 1px solid rgba(196,92,92,.25);  color: #d87c7c; }
.alert-info    { background: rgba(74,122,181,.12);  border: 1px solid rgba(74,122,181,.25); color: var(--ab-l); }

/* ============================================================
   ACTIVITY FEED
   ============================================================ */
.activity-list { list-style: none; }
.activity-item { display: flex; gap: 11px; padding: 11px 0; border-bottom: 1px solid var(--bdr); }
.activity-item:last-child { border-bottom: none; }
.activity-dot  { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 5px; }
.activity-dot.green { background: var(--agr); box-shadow: 0 0 7px var(--agr); }
.activity-dot.gold  { background: var(--ag);  box-shadow: 0 0 7px var(--ag);  }
.activity-dot.red   { background: var(--ar); }
.activity-dot.blue  { background: var(--ab);  box-shadow: 0 0 7px var(--ab);  }
.activity-text { font-size: .81rem; color: var(--t2); line-height: 1.45; }
.activity-text strong { color: var(--t1); font-weight: 500; }
.activity-time { font-size: .69rem; color: var(--t3); margin-top: 2px; }

/* ============================================================
   PROGRESS BAR
   ============================================================ */
.progress      { height: 5px; background: var(--bgh); border-radius: 10px; overflow: hidden; margin-top: 7px; }
.progress-bar  { height: 100%; border-radius: 10px; transition: width .6s ease;
                 background: linear-gradient(90deg, var(--ab), var(--ab-l)); }
.progress-bar.gold { background: linear-gradient(90deg, var(--ag), var(--ag-l)); }
.progress-bar.red  { background: linear-gradient(90deg, var(--ar), #e08888); }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 1200px) {
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
  .stats-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
  .dash-grid  { grid-template-columns: 3fr 2fr; }
}
@media (max-width: 960px) {
  .dash-grid, .dash-two { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  body.has-sidebar .sidebar { transform: translateX(-100%); }
  body.has-sidebar .sidebar.open { transform: translateX(0); box-shadow: var(--sh3); }
  body.has-sidebar .main { margin-left: 0; }
  body.has-sidebar .topbar { left: 0; }
  #menuToggle { display: flex !important; }
  .page-content { padding: 16px 14px; }
  .stats-grid, .stats-grid.cols-3 { grid-template-columns: 1fr 1fr; }
  .filter-bar { flex-wrap: wrap; }
  .search-box { max-width: 100%; }
}

/* ============================================================
   LIGHT THEME
   ============================================================ */
[data-theme="light"] body.has-sidebar .sidebar   { background: var(--bg-s); }
[data-theme="light"] .sidebar-user               { background: var(--bgh); }
[data-theme="light"] .stat-card                  { background: var(--bg-panel); }
[data-theme="light"] .card                       { background: var(--bg-panel); }
[data-theme="light"] .table-card                 { background: var(--bg-panel); }
[data-theme="light"] .table-header               { background: var(--bgh); }
[data-theme="light"] .data-table thead th        { background: var(--bgh); }
[data-theme="light"] body.has-sidebar .form-control { background: var(--bgh); color: var(--text); }
[data-theme="light"] .search-box                 { background: var(--bgh); }
[data-theme="light"] .filter-select              { background-color: var(--bgh); color: var(--text); }
[data-theme="light"] .modal                      { background: var(--bg-panel); }
[data-theme="light"] .nav-item.active            { background: rgba(74,122,181,.1); }
[data-theme="light"] .pg-btn                     { background: var(--bgh); }


/* ============================================================
   CATEGORIES PAGE — c-* component system
   Merged here so admin pages get it without touching global.css
   ============================================================ */

/* ── Stat row ─────────────────────────────────────────────── */
.c-stats {
  display: grid; grid-template-columns: repeat(3,1fr);
  gap: 16px; margin-bottom: 24px;
}
.c-stat {
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r3); padding: 20px 22px;
  position: relative; overflow: hidden;
  transition: transform .2s ease, box-shadow .2s ease;
}
.c-stat:hover { transform: translateY(-2px); box-shadow: var(--sh2); }
.c-stat::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; }
.c-stat--gold::before  { background: linear-gradient(90deg, var(--ag),  transparent); }
.c-stat--blue::before  { background: linear-gradient(90deg, var(--ab),  transparent); }
.c-stat--green::before { background: linear-gradient(90deg, var(--agr), transparent); }
.c-stat--red::before   { background: linear-gradient(90deg, var(--ar),  transparent); }
.c-stat__label {
  font-size:.62rem; font-weight:700; letter-spacing:.1em;
  text-transform:uppercase; color:var(--t3); margin-bottom:8px;
}
.c-stat__value { font-family:var(--fd); font-size:2rem; font-weight:700; color:var(--t1); line-height:1; }
.c-stat__sub   { font-size:.7rem; color:var(--t3); margin-top:6px; }
.c-stat__icon  { position:absolute; right:18px; top:50%; transform:translateY(-50%); opacity:.07; }

/* ── Card ─────────────────────────────────────────────────── */
.c-card { background:var(--bg2); border:1px solid var(--bdr); border-radius:var(--r3); }
.c-card__head {
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:14px 20px; border-bottom:1px solid var(--bdr);
  background:var(--bg3); border-radius:var(--r3) var(--r3) 0 0;
}
.c-card__title { font-family:var(--fd); font-size:.96rem; font-weight:500; color:var(--t1); }
.c-card__sub   { font-size:.73rem; color:var(--t3); margin-top:2px; }

/* ── Filter / search ──────────────────────────────────────── */
.c-filter { display:flex; align-items:center; gap:8px; flex-shrink:0; }
.c-search {
  display:flex; align-items:center; gap:8px;
  background:var(--bg2); border:1px solid var(--bdr);
  border-radius:var(--r2); padding:7px 12px;
  width:220px;
  transition:border-color .18s, box-shadow .18s;
}
.c-search:focus-within { border-color:var(--ab); box-shadow:0 0 0 2px rgba(74,122,181,.18); }
.c-search svg   { width:14px; height:14px; flex-shrink:0; color:var(--t3); }
.c-search input {
  border:none; outline:none; background:none;
  color:var(--t1); font-family:var(--fb); font-size:.84rem; width:100%;
}
.c-search input::placeholder { color:var(--t3); }

/* ── Table ────────────────────────────────────────────────── */
.c-table { width:100%; border-collapse:collapse; }
.c-table thead th {
  padding:10px 16px; text-align:left;
  font-size:.62rem; font-weight:700; letter-spacing:.1em; text-transform:uppercase;
  color:var(--t3); background:var(--bg3);
  border-bottom:1px solid var(--bdr); white-space:nowrap;
}
.c-table tbody td { padding:15px 16px; border-bottom:1px solid var(--bdr); color:var(--t2); vertical-align:middle; }
.c-table tbody tr:last-child td { border-bottom:none; }
.c-table tbody tr:hover td { background:rgba(74,122,181,.05); }

.c-td-seq    { color:var(--t3) !important; font-family:var(--fm); font-size:.7rem; }
.c-name-cell { display:flex; align-items:center; gap:12px; }
.c-icon {
  width:36px; height:36px; border-radius:var(--r2);
  border:1px solid transparent;
  display:flex; align-items:center; justify-content:center; flex-shrink:0;
}
.c-name { font-weight:600; font-size:.9rem; color:var(--t1); }
.c-id   { font-size:.68rem; font-family:var(--fm); color:var(--t3); margin-top:1px; }
.c-desc { font-size:.83rem; color:var(--t2); max-width:300px; line-height:1.5; }
.c-desc--empty { font-style:italic; font-size:.78rem; color:var(--t3); opacity:.6; }
.c-count       { font-family:var(--fd); font-size:1.35rem; font-weight:600; color:var(--t1); line-height:1; }
.c-count--zero { color:var(--t3); opacity:.4; }
.c-count-lbl   { font-size:.62rem; text-transform:uppercase; letter-spacing:.07em; color:var(--t3); margin-top:2px; }

/* ── Buttons ──────────────────────────────────────────────── */
.c-btn {
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 14px; border-radius:7px;
  font-family:var(--fb); font-size:.82rem; font-weight:500;
  cursor:pointer; border:none; white-space:nowrap; text-decoration:none;
  transition:all .18s ease; -webkit-appearance:none; appearance:none; line-height:1.4;
}
.c-btn--primary { background:var(--ab); color:#fff; padding:8px 18px; }
.c-btn--primary:hover { background:var(--ab-l); box-shadow:0 0 16px rgba(74,122,181,.4); }
.c-btn--ghost {
  background:transparent; color:var(--t2);
  border:1px solid var(--bdr); padding:7px 13px;
}
.c-btn--ghost:hover { background:var(--bgh); color:var(--t1); }
.c-btn--edit  { color:var(--ab-l); border:1px solid rgba(74,122,181,.35); background:rgba(74,122,181,.1); }
.c-btn--edit:hover  { background:rgba(74,122,181,.22); border-color:rgba(74,122,181,.6); }
.c-btn--del   { color:#d87c7c; border:1px solid rgba(196,92,92,.35); background:rgba(196,92,92,.1); }
.c-btn--del:hover   { background:rgba(196,92,92,.22); border-color:rgba(196,92,92,.6); }

.c-actions { display:flex; align-items:center; gap:6px; }
.c-inuse {
  display:inline-flex; align-items:center; gap:5px;
  font-size:.72rem; color:var(--t3);
  background:var(--bgh); border:1px solid var(--bdr);
  border-radius:20px; padding:4px 10px;
}

/* ── Alert ────────────────────────────────────────────────── */
.c-alert {
  display:flex; align-items:center; gap:10px;
  padding:12px 16px; border-radius:var(--r2);
  font-size:.85rem; margin-bottom:20px;
  animation: cFadeIn .3s ease;
}
.c-alert--success { background:rgba(78,155,114,.12); border:1px solid rgba(78,155,114,.28); color:#6ec49a; }
.c-alert--error   { background:rgba(196,92,92,.12);  border:1px solid rgba(196,92,92,.28);  color:#d87c7c; }
@keyframes cFadeIn { from{opacity:0;transform:translateY(-6px)} to{opacity:1;transform:none} }

/* ── Empty state ──────────────────────────────────────────── */
.c-empty { text-align:center; padding:64px 20px; }
.c-empty svg { opacity:.15; display:block; margin:0 auto 16px; }
.c-empty h3  { font-family:var(--fd); font-size:1.05rem; color:var(--t2); margin-bottom:6px; }
.c-empty p   { font-size:.83rem; color:var(--t3); margin-bottom:20px; }

/* ── Pagination ───────────────────────────────────────────── */
.c-pager { display:flex; align-items:center; justify-content:space-between; padding:12px 20px; border-top:1px solid var(--bdr); font-size:.77rem; color:var(--t3); }
.c-pager__btns { display:flex; gap:4px; }
.c-pager__btn {
  display:inline-flex; align-items:center; justify-content:center;
  min-width:32px; height:32px; padding:0 7px; border-radius:6px;
  border:1px solid var(--bdr); color:var(--t2);
  font-size:.77rem; text-decoration:none; transition:all .18s;
}
.c-pager__btn:hover   { background:var(--bgh); color:var(--t1); }
.c-pager__btn--active { background:var(--ab); border-color:var(--ab); color:#fff; font-weight:600; }

/* ── Modal ────────────────────────────────────────────────── */
.c-overlay {
  display:none;
  position:fixed; inset:0;
  background:rgba(4,6,12,.88);
  backdrop-filter:blur(8px);
  z-index:9999;
  align-items:center; justify-content:center;
  padding:20px;
  opacity:0;
  transition:opacity .22s ease;
}
.c-overlay--open { display:flex; opacity:1; }
.c-modal {
  background:var(--bg2); border:1px solid var(--bdr);
  border-radius:var(--r3);
  width:480px; max-width:95vw; max-height:90vh; overflow-y:auto;
  box-shadow:var(--sh3);
  transform:scale(.95) translateY(-10px);
  transition:transform .22s ease, opacity .22s ease;
  opacity:0;
}
.c-modal {
  background:var(--bg2); border:1px solid var(--bdr);
  border-radius:var(--r3);
  width:480px; max-width:95vw; max-height:90vh; overflow-y:auto;
  box-shadow:var(--sh3);
  transform:scale(.95) translateY(-10px);
  transition:transform .22s ease, opacity .22s ease;
  opacity:0;
}
.c-overlay--open .c-modal { transform:scale(1) translateY(0); opacity:1; }
.c-modal__bar {
  height:3px;
  background:linear-gradient(90deg, var(--ab), var(--ag));
  border-radius:var(--r3) var(--r3) 0 0;
}
.c-modal__head {
  display:flex; align-items:flex-start; justify-content:space-between;
  padding:18px 22px 14px; border-bottom:1px solid var(--bdr);
}
.c-modal__title { font-family:var(--fd); font-size:1.08rem; font-weight:500; color:var(--t1); }
.c-modal__sub   { font-size:.73rem; color:var(--t3); margin-top:3px; }
.c-modal__close {
  width:28px; height:28px; border-radius:var(--r1);
  background:var(--bgh); border:none; color:var(--t3);
  cursor:pointer; font-size:.9rem; font-family:inherit;
  display:flex; align-items:center; justify-content:center;
  transition:all .18s; flex-shrink:0;
}
.c-modal__close:hover { background:rgba(196,92,92,.22); color:#d87c7c; }
.c-modal__body { padding:20px 22px; display:grid; gap:16px; }
.c-modal__foot {
  display:flex; justify-content:flex-end; gap:10px;
  padding:14px 22px; border-top:1px solid var(--bdr);
}

/* ── Form fields (modal) ──────────────────────────────────── */
.c-field { display:grid; gap:6px; }
.c-label {
  font-size:.7rem; font-weight:700; letter-spacing:.07em;
  text-transform:uppercase; color:var(--t2);
}
.c-req  { color:var(--ar); }
.c-hint { font-size:.71rem; color:var(--t3); }
.c-input {
  width:100%; padding:9px 13px;
  background:var(--bg3); border:1px solid var(--bdr);
  border-radius:var(--r2); color:var(--t1);
  font-family:var(--fb); font-size:.87rem;
  outline:none; transition:border-color .18s, box-shadow .18s;
}
.c-input:focus { border-color:var(--ab); box-shadow:0 0 0 3px rgba(74,122,181,.15); }
.c-input::placeholder { color:var(--t3); }
.c-textarea { resize:vertical; min-height:88px; }

/* ── Light theme ──────────────────────────────────────────── */
[data-theme="light"] .c-stat       { background:var(--bg-panel); }
[data-theme="light"] .c-card       { background:var(--bg-panel); }
[data-theme="light"] .c-card__head { background:var(--bg-card); }
[data-theme="light"] .c-table thead th { background:var(--bg-card); }
[data-theme="light"] .c-modal      { background:var(--bg-panel); }
[data-theme="light"] .c-input      { background:var(--bg-card); }


/* ============================================================
   REGISTRATIONS PAGE — r-* component styles
   ============================================================ */

.r-select {
  padding: 7px 10px; border-radius: var(--r2);
  background: var(--bg2); border: 1px solid var(--bdr);
  color: var(--t2); font-family: var(--fb); font-size: .82rem;
  cursor: pointer; outline: none;
  transition: border-color .18s;
  -webkit-appearance: none; appearance: none;
}
.r-select:focus   { border-color: var(--ab); }
.r-select--wide   { min-width: 150px; }

/* ── Student cell ────────────────────────────────────────── */
.r-student        { display: flex; align-items: center; gap: 10px; }
.r-avatar {
  width: 32px; height: 32px; border-radius: 50%;
  background: linear-gradient(135deg, var(--ab), var(--ab-l));
  color: #fff; font-size: .75rem; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.r-student__name  { font-weight: 600; font-size: .87rem; color: var(--t1); }
.r-student__email { font-size: .72rem; color: var(--t3); margin-top: 1px; }
.r-student__id    { font-size: .68rem; font-family: var(--fm); color: var(--t3); margin-top: 1px; }

/* ── Event cell ──────────────────────────────────────────── */
.r-event__title { font-weight: 500; font-size: .86rem; color: var(--t1); }
.r-event__venue {
  display: flex; align-items: center; gap: 3px;
  font-size: .71rem; color: var(--t3); margin-top: 2px;
}

/* ── Date cell ───────────────────────────────────────────── */
.r-date { font-size: .77rem; font-family: var(--fm); color: var(--t3); white-space: nowrap; }

/* ── Status badges ───────────────────────────────────────── */
.r-status {
  display: inline-flex; align-items: center; gap: 5px;
  font-size: .74rem; font-weight: 600; padding: 4px 10px;
  border-radius: 20px; border: 1px solid transparent; white-space: nowrap;
}
.r-status--confirmed { background: rgba(78,155,114,.13);  color: #6ec49a;       border-color: rgba(78,155,114,.28); }
.r-status--pending   { background: rgba(201,168,76,.13);  color: var(--ag-l);   border-color: rgba(201,168,76,.28); }
.r-status--cancelled { background: rgba(196,92,92,.13);   color: #d87c7c;       border-color: rgba(196,92,92,.28);  }

/* ── Modal status preview ────────────────────────────────── */
.r-status-preview {
  background: var(--bg3); border: 1px solid var(--bdr);
  border-radius: var(--r2); padding: 12px 14px;
  display: flex; align-items: center; justify-content: space-between;
}
.r-sp__label { font-size: .68rem; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; color: var(--t3); }

/* ── Registrations card header (2-row layout) ──────────────── */
.r-card-title-row {
  padding: 14px 20px 10px;
  border-bottom: 1px solid var(--bdr);
  background: var(--bg3);
  border-radius: var(--r3) var(--r3) 0 0;
}
.r-card-filter-row {
  padding: 10px 20px;
  border-bottom: 1px solid var(--bdr);
  background: var(--bg3);
}
.r-filter-form {
  display: flex; align-items: center; gap: 8px; flex-wrap: nowrap; width: 100%;
}
/* Fix: override c-search flex:1/min-width inside filter form so it doesn't push dropdowns off */
.r-filter-form .c-search {
  flex: none !important;
  width: 200px !important;
  min-width: 0 !important;
}

/* ── Dark select option colours ─────────────────────────────
   Native <option> elements ignore most CSS; background + color
   with hardcoded hex is the only cross-browser reliable fix.   */
.r-sel option,
.r-select option,
.filter-select option,
.c-input option,
.form-control option {
  background: #111620;
  color:      #8e97ae;
}
.r-sel option:checked,
.r-select option:checked,
.filter-select option:checked,
.c-input option:checked,
.form-control option:checked {
  background: #1e2a42;
  color:      #e6e3db;
}


/* ============================================================
   CUSTOM DROPDOWN  (rdd-*)
   Replaces native <select> so the popup is fully theme-styled.
   ============================================================ */
.rdd {
  position: relative;
  display: inline-block;
  flex-shrink: 0;
}
.rdd--wide { min-width: 170px; }
.rdd--full { width: 100%; }

.rdd__btn {
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  width: 100%;
  padding: 7px 11px; border-radius: var(--r2);
  background: var(--bg2); border: 1px solid var(--bdr);
  color: var(--t2); font-family: var(--fb); font-size: .82rem;
  cursor: pointer; outline: none; white-space: nowrap;
  transition: border-color .18s, color .18s;
  -webkit-appearance: none; appearance: none;
}
.rdd__btn:hover,
.rdd--open .rdd__btn { border-color: var(--ab); color: var(--t1); }

.rdd__menu {
  display: none;
  position: absolute; top: calc(100% + 5px); left: 0;
  min-width: 100%;
  background: var(--bg2); border: 1px solid var(--bdr);
  border-radius: var(--r2);
  box-shadow: var(--sh3);
  z-index: 500;
  overflow: hidden;
  animation: rddIn .14s ease;
}
@keyframes rddIn { from{opacity:0;transform:translateY(-4px)} to{opacity:1;transform:none} }
.rdd--open .rdd__menu { display: block; }

.rdd__item {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 13px;
  font-size: .82rem; color: var(--t2); font-family: var(--fb);
  cursor: pointer; white-space: nowrap;
  transition: background .12s, color .12s;
}
.rdd__item:hover       { background: var(--bgh); color: var(--t1); }
.rdd__item--active     { color: var(--t1); background: rgba(74,122,181,.1); }

/* Coloured status dots inside dropdown items */
.rdd__dot {
  width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0;
}
.rdd__dot--green { background: #4e9b72; }
.rdd__dot--gold  { background: #c9a84c; }
.rdd__dot--red   { background: #c45c5c; }

/* c-inuse as a clickable button */
.c-inuse--btn {
  cursor: pointer;
  border: none;
  font-family: var(--fb);
  transition: background .18s, color .18s, border-color .18s;
}
.c-inuse--btn:hover {
  background: rgba(74,122,181,.15);
  border-color: rgba(74,122,181,.4);
  color: var(--ab-l);
}


/* ============================================================
   PAGE-SPECIFIC STYLES (extracted from inline <style> blocks)
   ============================================================ */


/* ── DASHBOARD ──────────────────────────────────────────── */
.db-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:20px;}
.db-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px;}
.db-stat{background:#111620;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px 22px;position:relative;overflow:hidden;transition:transform .2s,box-shadow .2s;text-decoration:none;display:block;}
.db-stat:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(0,0,0,.5);}
.db-stat::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;}
.db-stat--blue::before{background:linear-gradient(90deg,#4a7ab5,transparent);}
.db-stat--gold::before{background:linear-gradient(90deg,#c9a84c,transparent);}
.db-stat--green::before{background:linear-gradient(90deg,#4e9b72,transparent);}
.db-stat--red::before{background:linear-gradient(90deg,#c45c5c,transparent);}
.db-stat__icon{position:absolute;right:18px;top:50%;transform:translateY(-50%);opacity:.07;}
.db-stat__label{font-size:.62rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:#505870;margin-bottom:8px;}
.db-stat__value{font-family:'Playfair Display',serif;font-size:2rem;font-weight:700;color:#e6e3db;line-height:1;}
.db-stat__sub{font-size:.7rem;color:#505870;margin-top:6px;}

.db-card{background:#111620;border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden;}
.db-card__head{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;border-bottom:1px solid rgba(255,255,255,.07);background:#161c2a;border-radius:12px 12px 0 0;}
.db-card__title{font-family:'Playfair Display',serif;font-size:.96rem;font-weight:500;color:#e6e3db;}
.db-card__sub{font-size:.73rem;color:#505870;margin-top:2px;}
.db-card__body{padding:20px;}
.db-card__link{display:inline-flex;align-items:center;gap:5px;font-size:.78rem;color:#6a96cc;text-decoration:none;padding:5px 10px;border-radius:6px;border:1px solid rgba(74,122,181,.3);transition:all .18s;}
.db-card__link:hover{background:rgba(74,122,181,.12);}

.db-chart{display:flex;align-items:flex-end;gap:10px;height:130px;padding-top:10px;}
.db-bar-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;height:100%;min-width:0;}
.db-bar-val{font-size:.63rem;color:#6a96cc;font-family:'JetBrains Mono',monospace;min-height:14px;}
.db-bar-wrap{flex:1;display:flex;align-items:flex-end;width:100%;}
.db-bar{width:100%;border-radius:4px 4px 0 0;background:linear-gradient(to top,#4a7ab5,rgba(74,122,181,.3));min-height:4px;transition:height .5s ease;}
.db-bar-lbl{font-size:.62rem;color:#505870;white-space:nowrap;margin-top:6px;}

.db-activity{list-style:none;padding:0;margin:0;}
.db-activity li{display:flex;align-items:flex-start;gap:12px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.05);}
.db-activity li:last-child{border-bottom:none;}
.db-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;margin-top:5px;}
.db-dot--green{background:#4e9b72;box-shadow:0 0 6px rgba(78,155,114,.5);}
.db-dot--gold{background:#c9a84c;box-shadow:0 0 6px rgba(201,168,76,.5);}
.db-dot--red{background:#c45c5c;box-shadow:0 0 6px rgba(196,92,92,.5);}
.db-act-text{font-size:.83rem;color:#8e97ae;line-height:1.5;}
.db-act-text strong{color:#e6e3db;font-weight:600;}
.db-act-time{font-size:.7rem;color:#505870;margin-top:2px;font-family:'JetBrains Mono',monospace;}

.db-cap-item{margin-bottom:18px;}
.db-cap-item:last-child{margin-bottom:0;}
.db-cap-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;}
.db-cap-title{font-size:.83rem;color:#e6e3db;font-weight:500;}
.db-cap-cat{font-size:.7rem;color:#505870;margin-top:1px;}
.db-cap-count{font-size:.74rem;color:#505870;font-family:'JetBrains Mono',monospace;white-space:nowrap;}
.db-cap-track{height:5px;background:rgba(255,255,255,.07);border-radius:10px;overflow:hidden;}
.db-cap-fill{height:100%;border-radius:10px;transition:width .6s ease;}

.db-reg-table{width:100%;border-collapse:collapse;}
.db-reg-table th{padding:8px 14px;text-align:left;font-size:.62rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:#505870;border-bottom:1px solid rgba(255,255,255,.07);}
.db-reg-table td{padding:11px 14px;border-bottom:1px solid rgba(255,255,255,.05);vertical-align:middle;}
.db-reg-table tr:last-child td{border-bottom:none;}
.db-reg-table tr:hover td{background:rgba(74,122,181,.04);}
.db-reg-name{font-weight:600;font-size:.85rem;color:#e6e3db;}
.db-reg-id{font-size:.69rem;font-family:'JetBrains Mono',monospace;color:#505870;}
.db-reg-event{font-size:.82rem;color:#8e97ae;max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.db-reg-cat{font-size:.68rem;color:#505870;margin-top:1px;}
.db-status{display:inline-flex;align-items:center;gap:4px;font-size:.72rem;font-weight:600;padding:3px 9px;border-radius:20px;border:1px solid transparent;white-space:nowrap;}
.db-status--confirmed{background:rgba(78,155,114,.13);color:#6ec49a;border-color:rgba(78,155,114,.28);}
.db-status--pending{background:rgba(201,168,76,.13);color:#dbbf6e;border-color:rgba(201,168,76,.28);}
.db-status--cancelled{background:rgba(196,92,92,.13);color:#d87c7c;border-color:rgba(196,92,92,.28);}

.db-cat-row{display:flex;align-items:center;gap:14px;margin-bottom:14px;}
.db-cat-row:last-child{margin-bottom:0;}
.db-cat-name{width:130px;font-size:.82rem;color:#8e97ae;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;}
.db-cat-track{flex:1;height:8px;background:rgba(255,255,255,.07);border-radius:10px;overflow:hidden;}
.db-cat-fill{height:100%;border-radius:10px;transition:width .6s ease;}
.db-cat-count{width:28px;text-align:right;font-size:.77rem;font-family:'JetBrains Mono',monospace;color:#505870;flex-shrink:0;}

[data-theme="light"] .db-stat,[data-theme="light"] .db-card{background:#f5f3ee;border-color:rgba(0,0,0,.08);}
[data-theme="light"] .db-card__head{background:#eeece6;border-color:rgba(0,0,0,.07);}
[data-theme="light"] .db-stat__value,[data-theme="light"] .db-card__title,[data-theme="light"] .db-cap-title,[data-theme="light"] .db-reg-name,[data-theme="light"] .db-act-text strong{color:#1a1d27;}
@media(max-width:900px){.db-stats{grid-template-columns:repeat(2,1fr);}.db-grid{grid-template-columns:1fr;}}


/* ── EVENTS ──────────────────────────────────────────── */
/* rdd custom dropdown — inline so it works without updated admin.css */
.rdd{position:relative;display:inline-block;flex-shrink:0;}
.rdd--wide{min-width:160px;}.rdd--full{width:100%;}
.rdd__btn{display:flex;align-items:center;justify-content:space-between;gap:8px;width:100%;padding:7px 11px;border-radius:8px;background:var(--bg2);border:1px solid var(--bdr);color:var(--t2);font-size:.82rem;cursor:pointer;outline:none;white-space:nowrap;transition:border-color .18s,color .18s;font-family:inherit;}
.rdd__btn:hover,.rdd--open .rdd__btn{border-color:var(--ab);color:var(--t1);}
.rdd__menu{display:none;position:absolute;top:calc(100% + 5px);left:0;min-width:100%;background:var(--bg2);border:1px solid var(--bdr);border-radius:8px;box-shadow:var(--sh3);z-index:9000;overflow:hidden;}
.rdd--open .rdd__menu{display:block;animation:rddIn .14s ease;}
@keyframes rddIn{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:none}}
.rdd__item{display:flex;align-items:center;gap:8px;padding:8px 13px;font-size:.82rem;color:var(--t2);cursor:pointer;white-space:nowrap;transition:background .12s,color .12s;font-family:inherit;}
.rdd__item:hover{background:var(--bgh);color:var(--t1);}
.rdd__item--active{color:var(--t1);background:rgba(74,122,181,.12);}
.rdd__dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;}
.rdd__dot--green{background:#4e9b72;}.rdd__dot--gold{background:#c9a84c;}.rdd__dot--red{background:#c45c5c;}


/* ── REGISTRATIONS ──────────────────────────────────────────── */
/* ── USERS ──────────────────────────────────────────── */
/* ── Role tab bar ───────────────────────────────────────── */
.u-tabs{display:flex;gap:4px;padding:12px 20px;border-bottom:1px solid var(--bdr);background:var(--bg3);}
.u-tab{padding:6px 16px;border-radius:6px;font-size:.8rem;font-weight:600;text-decoration:none;color:var(--t3);border:1px solid transparent;transition:all .18s;}
.u-tab:hover{color:var(--t2);background:var(--bgh);}
.u-tab--active{background:rgba(74,122,181,.15);color:#6a96cc;border-color:rgba(74,122,181,.3);}

/* ── Avatar ─────────────────────────────────────────────── */
.u-avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#2a3f6b,#1e2a42);color:#6a96cc;font-family:'Playfair Display',serif;font-size:.85rem;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.u-avatar--admin{background:linear-gradient(135deg,#3d2a1e,#5c3d28);color:#d4956a;}
.u-user{display:flex;align-items:center;gap:10px;}
.u-user__name{font-weight:600;font-size:.85rem;color:var(--t1);}
.u-user__email{font-size:.72rem;color:var(--t3);margin-top:1px;}
.u-user__id{font-size:.69rem;font-family:var(--fm);color:var(--t3);}

/* ── Status + role badges ────────────────────────────────── */
.u-role{display:inline-flex;align-items:center;gap:5px;font-size:.72rem;font-weight:600;padding:3px 9px;border-radius:20px;border:1px solid transparent;white-space:nowrap;}
.u-role--student{background:rgba(74,122,181,.12);color:#6a96cc;border-color:rgba(74,122,181,.25);}
.u-role--admin{background:rgba(201,120,76,.12);color:#d4956a;border-color:rgba(201,120,76,.25);}
.u-active{display:inline-flex;align-items:center;gap:4px;font-size:.72rem;font-weight:600;padding:3px 9px;border-radius:20px;border:1px solid transparent;}
.u-active--on{background:rgba(78,155,114,.13);color:#6ec49a;border-color:rgba(78,155,114,.28);}
.u-active--off{background:rgba(92,100,120,.11);color:var(--t3);border-color:var(--bdr);}

/* ── Reg count pill ──────────────────────────────────────── */
.u-regs{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 7px;border-radius:12px;font-size:.72rem;font-family:var(--fm);font-weight:700;background:var(--bgh);color:var(--t3);}
.u-regs--pos{background:rgba(74,122,181,.12);color:#6a96cc;}

/* ── Self badge ──────────────────────────────────────────── */
.u-you{font-size:.62rem;font-weight:700;letter-spacing:.06em;text-transform:uppercase;color:#c9a84c;background:rgba(201,168,76,.1);border:1px solid rgba(201,168,76,.25);border-radius:4px;padding:1px 5px;margin-left:5px;}

/* ── Modal role preview ──────────────────────────────────── */
.u-role-preview{display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--bgh);border:1px solid var(--bdr);border-radius:8px;margin-bottom:14px;}
.u-role-preview .u-avatar{width:40px;height:40px;font-size:1rem;}

/* ── Light theme ─────────────────────────────────────────── */
[data-theme="light"] .u-avatar{background:linear-gradient(135deg,#d0dcf0,#bccde8);color:#3a5a9a;}
[data-theme="light"] .u-avatar--admin{background:linear-gradient(135deg,#f0ddd0,#e8c8b0);color:#8a5a3a;}
[data-theme="light"] .u-tabs{background:var(--bg3);border-color:var(--bdr);}
[data-theme="light"] .u-tab{color:var(--t3);}
[data-theme="light"] .u-tab--active{background:rgba(74,122,181,.1);color:#4a7ab5;}
[data-theme="light"] .u-user__name{color:var(--t1);}
[data-theme="light"] .u-role-preview{background:rgba(0,0,0,.03);border-color:rgba(0,0,0,.08);}
.c-stats--4{grid-template-columns:repeat(4,1fr);}

/* ── Sidebar realtime clock ─────────────────────────── */
.sb-clock {
  margin-top: 11px;
  padding-top: 11px;
  border-top: 1px solid var(--bdr);
  width: 100%;
}
.sb-clock__time {
  font-family: var(--fm);
  font-size: 1.22rem;
  font-weight: 500;
  color: var(--t1);
  letter-spacing: .08em;
  line-height: 1;
}
.sb-clock__date {
  font-size: .61rem;
  color: var(--t3);
  letter-spacing: .05em;
  margin-top: 5px;
  text-transform: uppercase;
}